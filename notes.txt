
There are some mock data in the codebase. Please remove them and use the real data. and 



Load balacne when we are hit by more users beside vertical scaling. 

How big will it become globally?? Can we go that route?

Scaleability??

mcp? app database and so on 

Application and databace separated 

10K for 

Instead of rendering all the data at once, we can use pagination or infinite scroll to load data as needed. or perhapd plot random samples of the data say 2000 events out of XXX and also show the total number of events that were selected. this will help with performance and scalability and also transparancy 

there are some empty folders in the codebase. Please check them if they are needed or not and decide what to do with them. 




The Analytics page (`app/analytics/page.tsx`) currently loads all catalogues and their events on page load, which causes performance issues. Please optimize this by implementing:

1. **Lazy loading**: Only load catalogue metadata initially, not all events
2. **On-demand event fetching**: Load events only when a specific catalogue is selected for analysis
3. **Pagination or limits**: If events must be loaded, implement pagination or reasonable limits (e.g., latest 1000 events)
4. **Caching**: Use the existing `useCachedFetch` hook instead of manual fetch calls
5. **Loading states**: Add proper loading indicators for better UX

The catalogue edit page (`app/catalogues/[id]/edit/page.tsx`) currently only allows editing the catalogue name, but users need access to edit all metadata fields that are available during catalogue import/creation. Please enhance the edit functionality to include:




Analyze the codebase to identify performance bottlenecks and optimization opportunities, focusing on the following areas:

1. **Database Operations**: Review queries, indexing, and bulk operations in files like `lib/db.ts`, `lib/geonet-import-service.ts`, and API routes to identify slow database calls

2. **Frontend Performance**: Examine React components, especially data-heavy pages like:
   - Analytics page (`app/analytics/page.tsx`) - currently loads all catalogues and events on page load
   - Catalogue detail pages with large event datasets
   - Map components that render thousands of earthquake markers

3. **API Endpoints**: Check for inefficient data fetching patterns, missing pagination, or lack of caching in API routes

4. **User Experience Improvements**: Implement loading states and progress indicators for long-running operations such as:
   - Data imports from GeoNet API
   - File uploads and parsing
   - Catalogue merging operations
   - Large dataset queries and map rendering

5. **Specific Optimizations to Consider**:
   - Implement pagination or virtual scrolling for large datasets
   - Add lazy loading for components and data
   - Use React.memo() and useMemo() for expensive computations
   - Implement proper loading skeletons and progress bars
   - Consider data sampling for map visualizations (e.g., show 2000 random events out of 20K+ with transparency about total count)

Provide specific code examples and implementation suggestions for the most impactful optimizations, prioritizing user experience improvements that prevent the application from appearing frozen during heavy operations.

